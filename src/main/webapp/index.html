<!DOCTYPE HTML>
<html lang="ru">
    <head>
        <meta charset="UTF-8">
        <title>Persons CRUD</title>
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/main.css">
        <script src="js/bootstrap.min.js"></script>
        <script src="js/jquery.min.js"></script>
        <script src="js/form.js"> </script>
    </head>

    <body class="fonts">

        <h1>Hello, World!</h1>
        <button id="ping" class="btn btn-default btn-md">Ping</button><br/>
        <button id="personList" class="btn btn-default btn-md">Persons List</button><br><br>
        Name: <input type="text" id="name"><br>
        Age: <input type="text" id="age"><br>
        <button id="addPerson" class="btn btn-default btn-md">Save</button><br>
        <br><br>
        Name: <input type="text" id="orgName"><br>
        inn: <input type="text" id="orgInn"><br>
        isActive: <input type="checkbox" id="orgIsActive"><br>
        <button id="getOrganizations" class="btn btn-default btn-md">Organization</button><br>

        id: <input type="text" id="orgId"><br>
        <button id="getOrganizationById" class="btn btn-default btn-md">Get by ID</button><br>
        <div style="margin-top: 20px">
            office id: <input type="text" id="officeId">
            office name: <input type="text" id="officeName">
            office phone: <input type="text" id="officePhone">
            office active: <input type="text" id="officeActive">
            <button id="getOfficesById" class="btn btn-default btn-md">Offices</button>
        </div>

    <script>
        $(document).ready(function () {
            $("#getOrganizations").click(function () {
                var organizations = {
                    name: $("#orgName").val(),
                    inn: $("#orgInn").val()
                };

                $.ajax({
                    url: "/api/organization/list",
                    type: "POST",
                    data: JSON.stringify(organizations),
                    contentType:"application/json; charset=utf-8",
                    success: function (data) {
                        alert(JSON.stringify(data));
                    }
                });
            });

            $("#getOrganizationById").click(function () {
                $.ajax({
                    url: "/api/organization/" + $("#orgId").val(),
                    type: "GET",
                    contentType:"application/json; charset=utf-8",
                    dataType:"json",
                    success: function (data) {
                        alert(JSON.stringify(data));
                    }
                });
            });

            $("#getOfficesById").click(function () {
                var offices = {
                    orgId: $("#officeId").val(),
                    name: $("#officeName").val(),
                    phone: $("#officePhone").val(),
                    isActive: $("#officeActive").val()
                };

                $.ajax({
                    url: "/api/office/list",
                    type: "POST",
                    data: JSON.stringify(offices),
                    contentType:"application/json; charset=utf-8",
                    success: function (data) {
                        alert(JSON.stringify(data));
                    }
                });
            });
        });
    </script>


    </body>
</html>
